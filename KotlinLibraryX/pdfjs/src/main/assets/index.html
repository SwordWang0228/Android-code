<!DOCTYPE html>
<html>
<head>
	 <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"/>
	<title></title>
	<style type="text/css">
        canvas {
            width: 100%;
            height: 100%;
            border: 1px solid black;
            background: url(loading.gif) no-repeat center;
        }
        #loading{
			position: absolute;
			left: 0;
			top: 0;
			right: 0;
			bottom: 0;
			margin: auto;
			width: 32px;
			height: 32px;
            background: url(loading.gif) no-repeat center;
		}
    </style>
</head>
<body>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.4.456/pdf.min.js"></script>
		<script type="text/javascript">
			var PDF_PATH = "https://raw.githubusercontent.com/mozilla/pdf.js/ba2edeae/web/compressed.tracemonkey-pldi-09.pdf";
			// var PDF_PATH = "./compressed.tracemonkey-pldi-09.pdf";
			pdfjsLib.GlobalWorkerOptions.workerSrc = "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.4.456/pdf.worker.min.js";

			function createPage() {
			    var canvas = document.createElement("canvas");
			    document.body.appendChild(canvas);
			    return canvas;
			}

			pdfjsLib.getDocument({url:PDF_PATH}).promise.then(function(pdf){
			// pdfjsLib.getDocument({data:PDF_PATH}).promise.then(function(pdf){
				for(var i = 1;i<=pdf.numPages;i++){
					pdf.getPage(i).then(function(page){
			        var viewport = page.getViewport({ scale: 2.0 });
			        var canvas = createPage();
			        var ctx = canvas.getContext('2d');

			        canvas.height = viewport.height;
			        canvas.width = viewport.width;

			        page.render({
			            canvasContext: ctx,
			            viewport: viewport
			        }).promise.then(function(){
			        	
			        });
				});
				}

			},function(error){
				console.log(error);
			});
		</script>
</body>
</html>